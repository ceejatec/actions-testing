name: learn-github-actions
run-name: ${{ github.actor }} is learning GitHub Actions
on: [push]
jobs:
  batty-matrix:
    if: false
    strategy:
      matrix:
        include:
          - result: true
            alt: false
          - result: false
            alt: false
          - result: true
            alt: true
          - result: false
            alt: true
    steps:
      - run: true || ${{ matrix.alt }}
    runs-on: buildjet-4vcpu-ubuntu-2204
  did-it-work:
    needs: [ batty-matrix ]
    if: always()
    runs-on: buildjet-4vcpu-ubuntu-2204
    steps:
    - run: |-
        failures=$(echo '${{ toJSON(needs) }}' | jq -c '.[] | select (.result | IN("failure", "cancelled"))')
        test -z "${failures}"
